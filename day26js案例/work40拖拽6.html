<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>work41文件读取</title>
		<style type="text/css">
			#div{
				width: 200px;
				height: 200px;
				border: #000 2px dashed;
				margin: 100px auto;
				text-align: center;
				line-height: 200px;
				display: none;
			}
		</style>
	</head>
	<body>
		<div id="div">请将文件拖到此处</div>
	</body>
	<script type="text/javascript">
		var odiv=document.getElementById("div");
		var timer=null;
		
		document.ondragover=function(){
			clearTimeout(timer);
			odiv.style.display="block";
			
			timer=setTimeout(function(){
				odiv.style.display="none";
			},100)
		}
		
		odiv.ondragenter=function(){
			odiv.innerHTML="请释放鼠标";
		}
		
		
		odiv.ondragleave=function(){
			odiv.innerHTML="请将文件拖到此处";
		}
		
		odiv.ondragover=function(){
			return false;
		}
		
		odiv.ondrop=function(ev){
			var ofile=ev.dataTransfer.files[0];
			var oreader=new FileReader();  //读取文件
			oreader.readAsText(ofile,"utf-8") //以文本的形式读取文件;
			oreader.onload=function(){ //内容读取完成的标识
				alert(oreader.result);   //读取文件内容;
			}
			return false;   //阻止浏览器读取文件内容
		}
		
	</script>
</html>
